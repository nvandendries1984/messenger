<style>
    /* Aangepaste CSS-stijl voor chatberichten */
    .chat-container {
        width: 100%;
        margin: 0 auto;
        padding: 5px;
        background-color: #f5f5f5;
        border: 1px solid #ccc;
        border-radius: 5px;
    }
    
    .chat-message {
        margin-bottom: 10px;
    }
    
    .chat-username {
        font-weight: bold;
        color: #007bff; /* Blauwe kleur voor de gebruikersnaam */
    }
</style>
    
<div class="container-fluid chat-container">
    <h3><img src="{{ user.avatar.path }}" alt="{{ user.name }}" style="max-width: 32px;border-radius: 50px;"> Welcome {{ user.name }}</h3>
    <hr>
    <div id="chat-messages"></div>
    <div class="input-group">
        <input type="text" id="message-input" class="form-control" placeholder="Type your message here">
        <button id="send-button" class="btn btn-primary">Send it...</button>
    </div>
    <p class="text-muted"><i style="font-size: x-small;">Please note: Messages are not saved.</i></p>
</div>
    
<script>
    // Vervang dit met de daadwerkelijke gebruikersnaam van de ingelogde gebruiker
    const loggedInUserName = "{{ user.name }}";

    // Selecteer de elementen
    const chatContainer = document.querySelector('.chat-container');
    const messageInput = document.getElementById('message-input');
    const sendButton = document.getElementById('send-button');
    const chatMessages = document.getElementById('chat-messages');

    // Event listener om een bericht te versturen wanneer op de knop wordt geklikt
    sendButton.addEventListener('click', () => {
        const message = messageInput.value;
        if (message.trim() !== '') {
            // Maak een nieuw berichtelement aan
            const messageElement = document.createElement('div');
            messageElement.className = 'chat-message';

            // Voeg de huidige tijd toe aan het bericht
            const currentTimeElement = document.createElement('span');
            currentTimeElement.className = 'chat-current-time';
            const currentTime = new Date();
            currentTimeElement.textContent = '' + currentTime.toLocaleTimeString() + ': ';
            messageElement.appendChild(currentTimeElement);

            // Voeg de gebruikersnaam toe aan het bericht
            const usernameElement = document.createElement('span');
            usernameElement.className = 'chat-username';
            usernameElement.textContent = loggedInUserName;
            messageElement.appendChild(usernameElement);

            // Voeg het berichttekst toe aan het bericht
            const messageTextElement = document.createElement('span');
            messageTextElement.textContent = ': ' + message;
            messageElement.appendChild(messageTextElement);

            // Voeg het bericht toe aan de chatbox
            chatMessages.appendChild(messageElement);

            // Wis het invoerveld
            messageInput.value = '';
        }
    });

    // Event listener om een bericht te versturen wanneer Enter wordt ingedrukt
    messageInput.addEventListener('keyup', (event) => {
        if (event.key === 'Enter') {
            sendButton.click(); // Roep de klikfunctie van de knop aan
        }
    });
</script>
